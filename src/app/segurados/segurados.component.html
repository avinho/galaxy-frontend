<div class="card-container row">
  <mat-card class="card col">
    <mat-card-header>Segurados Ativos</mat-card-header>
    <mat-card-content>Ativos</mat-card-content>
  </mat-card>
  <mat-card class="card col">
    <mat-card-header>Segurados Inativos</mat-card-header>
    <mat-card-content>Inativos</mat-card-content>
  </mat-card>
  <mat-card class="card col">
    <mat-card-header>Segurados Inativos</mat-card-header>
    <mat-card-content>Inativos</mat-card-content>
  </mat-card>
  <mat-card class="card col">
    <mat-card-header>Segurados Inativos</mat-card-header>
    <mat-card-content>Inativos</mat-card-content>
  </mat-card>
</div>

<mat-card class="mat-elevation-z8">
  <mat-toolbar color="primary">
    <!-- <span>Segurados</span> -->
  </mat-toolbar>
  @if (segurados$) {
  <mat-card-header>
    <mat-form-field>
      <mat-label>Pesquisa</mat-label>
      <input
        matInput
        type="text"
        placeholder="Ex. Alvaro"
        (keyup.enter)="refresh()"
        #input
        (keyup)="onFilter($event)"
      />
      @if (input.value) {
      <button matSuffix mat-icon-button (click)="refresh()">
        <mat-icon>search</mat-icon>
      </button>
      }
    </mat-form-field></mat-card-header
  >
  <mat-card-content>
    <segurados-list
      [segurados]="segurados$.segurados"
      [filterValue]="filterValue"
      [length]="segurados$.totalElements"
      (add)="onAdd()"
      (edit)="onEdit($event)"
      (remove)="onDelete($event)"
      (refresh)="handlePageEvent($event)"
    ></segurados-list>
  </mat-card-content>
  } @else {
  <div class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>
  }
</mat-card>
